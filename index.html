

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BottleSpinner</title>
  <style>
  .background-dark{
    background-color: #dfeb7a
  }

  .dropbtn {
    background-color: #dfeb7a;
    color: white;
    padding: 16px;
    font-size: 16px;
    border: none;
    cursor: pointer;
    max-width: 160px;
  }

  /* Dropdown button on hover & focus */
  .dropbtn:hover, .dropbtn:focus {
    background-color: #dfeb7a;
  }

  /* The container <div> - needed to position the dropdown content */
  .dropdown {
    position: relative;
    display: inline-block;
    
  }

  /* Dropdown Content (Hidden by Default) */
  .dropdown-content {
    display: none;
    position: absolute;
    background-color: #dfeb7a;
    min-width: 320px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
  }

  /* Show the dropdown menu (use JS to add this class to the .dropdown-content container when the user clicks on the dropdown button) */
  .show {display:block;}

  .flasche{
    display: flex;
    justify-content: center;
    height: 360px;
    width: 360px;
    margin-top: 150px;
    margin-bottom: 150px;
    margin-left: 0px;
  }
  .dropDownFlasche {
    max-height: 180px;
    max-width: auto;

  }

  </style>
  <script>
    function delay(time) {
      return new Promise(resolve => setTimeout(resolve, time));
    }

    let running = 0;
    
    async function turnBottle(){
      running ++;
      if ( typeof turnBottle.winkelPre == 'undefined' ){
        turnBottle.winkelPre = 0;
      }
      else{
        turnBottle.winkelPre = turnBottle.winkel;
      }
      turnBottle.winkel = Math.random() * 360;
      let winkelStr = turnBottle.winkel.toString() + 'deg';
      let winkelNext = turnBottle.winkel;
      let i = 1;
      let loops = 500;
      while (winkelNext <= turnBottle.winkel || i<loops && running <2) {
        let winkelNextStr = winkelNext.toString() + 'deg';
        document.getElementsByClassName("flasche")[0].style.cssText =  'transform: rotate('+winkelNextStr+');';
        //winkelNext = winkelNext + 100 - (i/loops) * 100;
        winkelNext = winkelNext + (loops-i)/i;
        i++;
        await delay(10);
        console.log("i="+i);
      }
      running --;
    }
    /* When the user clicks on the button,
    toggle between hiding and showing the dropdown content */
    function myMenu() {
      document.getElementById("myDropdown").classList.toggle("show");
    }

    // Close the dropdown menu if the user clicks outside of it
    window.onclick = function(event) {
      if (!event.target.matches('.dropbtn')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    }
  </script>
</head>
<body class = "background-dark">
  <div class="dropdown">
    <img onclick="myMenu()" class="dropbtn" src="img/menu3.jpeg"></img>
    <div id="myDropdown" class="dropdown-content">
      <img src ="img/sortiment_einbecker_blutorange-nav.png" class="dropDownFlasche"></img>
      <img src ="img/sortiment_einbecker_brauherrenpils-nav.png" class="dropDownFlasche"></img>
      <img src ="img/sortiment_einbecker_brauherrenalkfrei-nav.png" class="dropDownFlasche"></img>
      <img src ="img/sortiment_einbecker_dunkel-nav.png" class="dropDownFlasche"></img>
      <img src ="img/sortiment_einbecker_kellerbier-nav.png" class="dropDownFlasche"></img>
      <img src ="img/sortiment_einbecker_landbier-nav.png" class="dropDownFlasche"></img>
      <img src ="img/sortiment_einbecker_naturradler-nav.png" class="dropDownFlasche"></img>
      <img src ="img/sortiment_einbecker_premiumpilsener-nav.png" class="dropDownFlasche"></img>
      <img src ="img/sortiment_einbecker_radleralkfrei-nav.png" class="dropDownFlasche"></img>
      <img src ="img/sortiment_einbecker_weihnachtsbier-nav.png" class="dropDownFlasche"></img>

    </div>
  </div>
  <div class="flasche">
    <img onclick =turnBottle() src="img/sortiment_einbecker_brauherrenpils-nav.png"></img>
  </div>

  
</body>
</html>
